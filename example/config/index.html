
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../reference/">
      
      
        <link rel="next" href="../../reference/main/">
      
      
      <link rel="icon" href="../../assets/icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Configuration - beambusters</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/typewriter.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="cyan" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="beambusters" class="md-header__button md-logo" aria-label="beambusters" data-md-component="logo">
      
  <img src="../../assets/icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            beambusters
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/anananacr/beambusters.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    beambusters
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="beambusters" class="md-nav__button md-logo" aria-label="beambusters" data-md-component="logo">
      
  <img src="../../assets/icon.png" alt="logo">

    </a>
    beambusters
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/anananacr/beambusters.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    beambusters
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About beambusters
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameters-description" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    main CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    settings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameters-description" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="configuration">Configuration</h1>
<h2 id="parameters-description">Parameters description</h2>
<p>The <code>config.yaml</code> file sets the configuration parameters of beambusters.</p>
<p><strong>geometry_file</strong>: Absolute path to the geometry file. Type: str.</p>
<p><strong>output_hdf5_root_path</strong>: Absolute path inside the hdf5 file to create a dataset with the output results. Type: str.</p>
<p><strong>chunks</strong>: Number of frames in a chunk for parallel processing. Type: int</p>
<p><strong>number_of_processors</strong>: Number of processors to use in parallel processing. Type: int.</p>
<p><strong>vds_format</strong>: True if the file is saved in VDS format. Type: bool.</p>
<p><strong>vds_id</strong>: Identification of which detector is being used. Currently it is supported <code>vds_spb_jf4m</code> and <code>generic</code>. Type: str.</p>
<p><strong>burst_mode</strong>: Indicate if the detector is on burst mode.</p>
<p><strong>state</strong>: Burst or storage cell mode (true) or single cell mode (false). Type: bool.</p>
<p><strong>storage_cell_hdf5_path</strong>: Absolute HDF5 path to the storage cell id per frame. Type: str</p>
<p><strong>plots</strong>:</p>
<p><strong>flag</strong>: Indicate if plots should be saved in intermediate steps (true) or not (false). Type: bool.</p>
<p><strong>maximum_number_of_frames</strong>: Number of frames to save plots. Type: int.</p>
<p><strong>file_name</strong>: The plots file name for saving. Type: str.</p>
<p><strong>folder_name</strong>: The plots folder name for saving. Type: str.</p>
<p><strong>root_path</strong>: Absolute path for the root directory for saving. Plots output are <code>/root_path/folder_name/*/file_name_*.png</code>. Type: str.</p>
<p><strong>value_auto</strong>: Control the automatic intensity adjustment of plots level (true). The normalization used is in logarithmic scale. Type: bool.</p>
<p><strong>value_min</strong>: If value_auto is false, minimum value of the intensity level should be passed. The normalization used is in logarithmic scale. Type: int.</p>
<p><strong>value_max</strong>: If value_auto is false, maximum value of the intensity level should be passed. The normalization used is in logarithmic scale. Type: int.</p>
<p><strong>axis_lim_auto</strong>: Control the automatic axis limits of the plots (true). Type: bool.</p>
<p><strong>xlim_min</strong>: If axis_lim_auto is false, minimum coordinate of the x axis should be passed. Type: int.</p>
<p><strong>xlim_max</strong>: If axis_lim_auto is false, maximum coordinate of the x axis should be passed. Type: int.</p>
<p><strong>ylim_min</strong>: If axis_lim_auto is false, minimum coordinate of the y axis should be passed. Type: int.</p>
<p><strong>ylim_max</strong>: If axis_lim_auto is false, maximum coordinate of the y axis should be passed. Type: int.</p>
<p><strong>color_map</strong>: Colormap preference for the plots, for example, viridis. Type: str.</p>
<p><strong>marker_size</strong>: Scatter marker size of center coordinates. Type: float.</p>
<p><strong>starting_frame</strong>: Change the index of the starting frame, it will jump the first n images of the container file. Type: int.</p>
<p><strong>force_center</strong>: Anchor the initial guess to a fixed point, if enabled this option will override other bblib pre-centering methods.</p>
<p><strong>state</strong>: Turn force mode on (true) or off (false). Type: bool.</p>
<p><strong>anchor_x</strong>: Turn force mode on (true) or off (false) for the x-axis. Type: bool.</p>
<p><strong>anchor_y</strong>: Turn force mode on (true) or off (false) for the y-axis. Type: bool.</p>
<p><strong>x</strong>: Initial guess pixel coordinates in x of the assembled data, i.e. image stored in a single array with the detector panels' geometric transformations applied, according to CrystFEL referential convention. Type: int.</p>
<p><strong>y</strong>: Initial guess pixel coordinates in y of the assembled data, i.e. image stored in a single array with the detector panels' geometric transformations applied, according to CrystFEL referential convention. Type: int.</p>
<p><strong>search_radius</strong>: Search radius used in the FriedelPairs bblib method. Type: float.</p>
<p><strong>pf8</strong>: peakfinder8 paratemers for Bragg peaks search. For more information, see the <a href="https://www.desy.de/~barty/cheetah/Cheetah/SFX_hitfinding.html">Cheetah Documentation</a>.</p>
<p><strong>max_num_peaks</strong>: Maximum number of peaks. Type: int.</p>
<p><strong>adc_threshold</strong>: Arbitrary detector counts (ADC) threshold. Type: int.</p>
<p><strong>minimum_snr</strong>: Minimum signal-to-noise ratio (SNR). Type: float.</p>
<p><strong>min_pixel_count</strong>: Minimum number of pixels to consider a peak. Type: int.</p>
<p><strong>max_pixel_count</strong>: Maximum number of pixels to consider a peak. Type: int.</p>
<p><strong>local_bg_radius</strong>: Radius of the peaks local background, in pixels. Type: int.</p>
<p><strong>min_res</strong>: Minimum resolution region, in pixels. Type: int.</p>
<p><strong>max_res</strong>: Maximum resolution region, in pixels. Type: int.</p>
<p><strong>offset</strong>: Add an offset to the calculated center. The offset will be applied in the end of every bblib centering method. Set offsets to +0.5 in x and y to shift the detector center coordinates from pixel indices to the pixel center, as expected for CrystFEL.</p>
<p><strong>x</strong>: Offset in x direction, in pixels. Type: int.</p>
<p><strong>y</strong>: Offset in y direction, in pixels. Type: int.</p>
<p><strong>peak_region</strong>: Defines the approximate background peak distance from the center of the diffraction pattern, in pixels. This option is used in CircleDetection bblib pre-centering methods.</p>
<p><strong>min</strong>: Minimum distance, in pixels, of the background peak to the center of the diffraction pattern. Type: int.</p>
<p><strong>max</strong>: Maximum distance, in pixels, of the background peak to the center of the diffraction pattern. Type: int.</p>
<p><strong>outlier_distance</strong>: Don't refine the detector center with FriedelPairs method if the distance from the initial_guess (in a certain axis) to the reference_center coordinates is bigger than the outlier_distance.</p>
<p><strong>x</strong>: Outlier distance in x. Type: float.</p>
<p><strong>y</strong>: Outlier distance in y. Type: float.</p>
<p><strong>reference_center</strong>: Reference center of the diffraction pattern to filter outliers in the initial_guess calculation.</p>
<p><strong>x</strong>: Reference center pixel coordinates in x of the assembled data, i.e. image stored in a single array with the detector panels' geometric transformations applied, according to CrystFEL referential convention. Type: int.</p>
<p><strong>y</strong>: Reference center pixel coordinates in y of the assembled data, i.e. image stored in a single array with the detector panels' geometric transformations applied, according to CrystFEL referential convention. Type: int.</p>
<p><strong>canny</strong>: Controls skimage.feature.canny function, used in the CircleDetection bblib method. For more information, see the <a href="https://scikit-image.org/docs/stable/auto_examples/edges/plot_circular_elliptical_hough_transform.html&quot;">Scikit-image Documentation</a>.</p>
<p><strong>sigma</strong>: Standard deviation of the Gaussian filter, used in the Canny function. Usually, 3 is good. Type: float.</p>
<p><strong>low_threshold</strong>: Lower bound for hysteresis thresholding (linking edges), as quantiles of the edge magnitude image. Threshold must be in the range [0, 1). Usually, 0.9 is good. Type: float.</p>
<p><strong>high_threshold</strong>: Upper bound for hysteresis thresholding (linking edges), as quantiles of the edge magnitude images. Threshold must be in the range [0, 1). Usually, 0.99 is good. Type: float.</p>
<p><strong>hough</strong>:</p>
<p><strong>maximum_rank</strong>: Evaluate the ranked solutions of Hough transform output until the
  maximum ranked position. Type: int.</p>
<p><strong>outlier_distance</strong>: If the ranked solution (from the most voted to the less voted) is within the outlier shift in x and y this solution is chosen as the detector center.</p>
<pre><code>x: Outlier shift in the x-axis. Type: int.

y: Outlier shift in the y-axis. Type: int.
</code></pre>
<p><strong>centering_method_for_initial_guess</strong>: Choose the bblib pre-centering method for the initial_guess assignment. The options available are <code>center_of_mass</code>, <code>circle_detection</code> or <code>manual_input</code>. Type: str.</p>
<p><strong>bragg_peaks_positions_for_center_of_mass_calculation</strong>: Choose if Bragg peaks should be masked out (0) from the image in the CenterOfMass bblib method, or use only the Bragg peaks (1), or use the image as it is (-1). Type: int</p>
<p><strong>pixels_for_mask_of_bragg_peaks</strong>: Radius of the Bragg peaks, in pixels, to be masked in the pre-centering step. Type: int.</p>
<p><strong>skip_centering_methods</strong>: List of bblib pre-centering methods to be skipped. Options: <code>center_of_mass</code>, <code>circle_detection</code> , <code>minimize_peak_fwhm</code> or <code>friedel_pairs</code>. Type: List[str]</p>
<ul>
<li>Method label you want to skip. Type: str.</li>
</ul>
<p><strong>polarization</strong>: Configure the polarization correction before refining the center in the FridelPairs bblib method.</p>
<p><strong>apply_polarization_correction</strong>: Aoply polarization correction (true) or not (false). Type: bool</p>
<p><strong>axis</strong>: Polarization axis direction. Options: <code>x</code> and <code>y</code>, as defined by the CrystFEL referential convention. Type: str.</p>
<p><strong>value</strong>: Polarization fraction in the axis direction. Type: float.</p>
<h2 id="example">Example</h2>
<pre><code class="language-yaml">geometry_file: /path/to/geom/detector.geom
output_hdf5_root_path: /entry/data

burst_mode:
  is_active: false
  storage_cell_hdf5_path: /entry/data/storage_cell_number

chunks: 500
number_of_processors: 16

vds_format: true
vds_id: generic

plots:
  flag: true
  maximum_number_of_frames: 50
  file_name: my_sample_label
  folder_name: run_label
  root_path: /path/to/plots
  value_auto: false
  value_min: 1e0
  value_max: 5e2
  axis_lim_auto: false
  xlim_min: 200
  xlim_max: 900
  ylim_min: 200
  ylim_max: 900
  color_map: viridis
  marker_size: 100

force_center:
  state: false
  anchor_x: true
  anchor_y: false
  x: 554
  y: 522

search_radius: 4.5

pf8:
  max_num_peaks: 10000
  adc_threshold: 100
  minimum_snr: 5
  min_pixel_count: 2
  max_pixel_count: 10000
  local_bg_radius: 5
  min_res: 0
  max_res: 600

starting_frame: 500

offset:
  x: 0.5
  y: 0.5

peak_region:
  min: 50
  max: 70

outlier_distance:
  x: 10
  y: 100

reference_center:
  x: 554
  y: 522

canny:
  sigma: 3
  low_threshold: 0.9
  high_threshold: 0.99

hough:
  maximum_rank:
  outlier_distance:
    x: 10
    y: 100

centering_method_for_initial_guess: circle_detection

bragg_peaks_positions_for_center_of_mass_calculation: -1

pixels_for_mask_of_bragg_peaks: 4

skip_centering_methods:
  - center_of_mass

polarization:
  apply_polarization_correction: true
  axis: x
  value: 0.99
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>